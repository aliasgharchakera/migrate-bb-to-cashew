CREATE TABLE IF NOT EXISTS "wallets" ("wallet_pk" TEXT NOT NULL, "name" TEXT NOT NULL, "colour" TEXT NULL, "icon_name" TEXT NULL, "date_created" INTEGER NOT NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "order" INTEGER NOT NULL, "currency" TEXT NULL, "currency_format" TEXT NULL, "decimals" INTEGER NOT NULL DEFAULT 2, "home_page_widget_display" TEXT NULL DEFAULT NULL, PRIMARY KEY ("wallet_pk"));
CREATE TABLE IF NOT EXISTS "categories" ("category_pk" TEXT NOT NULL, "name" TEXT NOT NULL, "colour" TEXT NULL, "icon_name" TEXT NULL, "emoji_icon_name" TEXT NULL, "date_created" INTEGER NOT NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "order" INTEGER NOT NULL, "income" INTEGER NOT NULL DEFAULT 0 CHECK ("income" IN (0, 1)), "method_added" INTEGER NULL, "main_category_pk" TEXT NULL DEFAULT NULL REFERENCES categories (category_pk), PRIMARY KEY ("category_pk"));
CREATE TABLE IF NOT EXISTS "objectives" ("objective_pk" TEXT NOT NULL, "type" INTEGER NOT NULL DEFAULT 0, "name" TEXT NOT NULL, "amount" REAL NOT NULL, "order" INTEGER NOT NULL, "colour" TEXT NULL, "date_created" INTEGER NOT NULL, "end_date" INTEGER NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "icon_name" TEXT NULL, "emoji_icon_name" TEXT NULL, "income" INTEGER NOT NULL DEFAULT 0 CHECK ("income" IN (0, 1)), "pinned" INTEGER NOT NULL DEFAULT 1 CHECK ("pinned" IN (0, 1)), "archived" INTEGER NOT NULL DEFAULT 0 CHECK ("archived" IN (0, 1)), "wallet_fk" TEXT NOT NULL DEFAULT '0' REFERENCES wallets (wallet_pk), PRIMARY KEY ("objective_pk"));
CREATE TABLE IF NOT EXISTS "transactions" ("transaction_pk" TEXT NOT NULL, "paired_transaction_fk" TEXT NULL DEFAULT NULL REFERENCES transactions (transaction_pk), "name" TEXT NOT NULL, "amount" REAL NOT NULL, "note" TEXT NOT NULL, "category_fk" TEXT NOT NULL REFERENCES categories (category_pk), "sub_category_fk" TEXT NULL DEFAULT NULL REFERENCES categories (category_pk), "wallet_fk" TEXT NOT NULL DEFAULT '0' REFERENCES wallets (wallet_pk), "date_created" INTEGER NOT NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "original_date_due" INTEGER NULL DEFAULT 1757158578, "income" INTEGER NOT NULL DEFAULT 0 CHECK ("income" IN (0, 1)), "period_length" INTEGER NULL, "reoccurrence" INTEGER NULL, "end_date" INTEGER NULL, "upcoming_transaction_notification" INTEGER NULL DEFAULT 1 CHECK ("upcoming_transaction_notification" IN (0, 1)), "type" INTEGER NULL, "paid" INTEGER NOT NULL DEFAULT 0 CHECK ("paid" IN (0, 1)), "created_another_future_transaction" INTEGER NULL DEFAULT 0 CHECK ("created_another_future_transaction" IN (0, 1)), "skip_paid" INTEGER NOT NULL DEFAULT 0 CHECK ("skip_paid" IN (0, 1)), "method_added" INTEGER NULL, "transaction_owner_email" TEXT NULL, "transaction_original_owner_email" TEXT NULL, "shared_key" TEXT NULL, "shared_old_key" TEXT NULL, "shared_status" INTEGER NULL, "shared_date_updated" INTEGER NULL, "shared_reference_budget_pk" TEXT NULL, "objective_fk" TEXT NULL REFERENCES objectives (objective_pk), "objective_loan_fk" TEXT NULL REFERENCES objectives (objective_pk), "budget_fks_exclude" TEXT NULL, PRIMARY KEY ("transaction_pk"));
CREATE TABLE IF NOT EXISTS "budgets" ("budget_pk" TEXT NOT NULL, "name" TEXT NOT NULL, "amount" REAL NOT NULL, "colour" TEXT NULL, "start_date" INTEGER NOT NULL, "end_date" INTEGER NOT NULL, "wallet_fks" TEXT NULL, "category_fks" TEXT NULL, "category_fks_exclude" TEXT NULL, "income" INTEGER NOT NULL DEFAULT 0 CHECK ("income" IN (0, 1)), "archived" INTEGER NOT NULL DEFAULT 0 CHECK ("archived" IN (0, 1)), "added_transactions_only" INTEGER NOT NULL DEFAULT 0 CHECK ("added_transactions_only" IN (0, 1)), "period_length" INTEGER NOT NULL, "reoccurrence" INTEGER NULL, "date_created" INTEGER NOT NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "pinned" INTEGER NOT NULL DEFAULT 0 CHECK ("pinned" IN (0, 1)), "order" INTEGER NOT NULL, "wallet_fk" TEXT NOT NULL DEFAULT '0' REFERENCES wallets (wallet_pk), "budget_transaction_filters" TEXT NULL DEFAULT NULL, "member_transaction_filters" TEXT NULL DEFAULT NULL, "shared_key" TEXT NULL, "shared_owner_member" INTEGER NULL, "shared_date_updated" INTEGER NULL, "shared_members" TEXT NULL, "shared_all_members_ever" TEXT NULL, "is_absolute_spending_limit" INTEGER NOT NULL DEFAULT 0 CHECK ("is_absolute_spending_limit" IN (0, 1)), PRIMARY KEY ("budget_pk"));
CREATE TABLE IF NOT EXISTS "category_budget_limits" ("category_limit_pk" TEXT NOT NULL, "category_fk" TEXT NOT NULL REFERENCES categories (category_pk), "budget_fk" TEXT NOT NULL REFERENCES budgets (budget_pk), "amount" REAL NOT NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "wallet_fk" TEXT NOT NULL DEFAULT '0' REFERENCES wallets (wallet_pk), PRIMARY KEY ("category_limit_pk"));
CREATE TABLE IF NOT EXISTS "associated_titles" ("associated_title_pk" TEXT NOT NULL, "category_fk" TEXT NOT NULL REFERENCES categories (category_pk), "title" TEXT NOT NULL, "date_created" INTEGER NOT NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "order" INTEGER NOT NULL, "is_exact_match" INTEGER NOT NULL DEFAULT 0 CHECK ("is_exact_match" IN (0, 1)), PRIMARY KEY ("associated_title_pk"));
CREATE TABLE IF NOT EXISTS "app_settings" ("settings_pk" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, "settings_j_s_o_n" TEXT NOT NULL, "date_updated" INTEGER NOT NULL);
CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE IF NOT EXISTS "scanner_templates" ("scanner_template_pk" TEXT NOT NULL, "date_created" INTEGER NOT NULL, "date_time_modified" INTEGER NULL DEFAULT 1757158578, "template_name" TEXT NOT NULL, "contains" TEXT NOT NULL, "title_transaction_before" TEXT NOT NULL, "title_transaction_after" TEXT NOT NULL, "amount_transaction_before" TEXT NOT NULL, "amount_transaction_after" TEXT NOT NULL, "default_category_fk" TEXT NOT NULL REFERENCES categories (category_pk), "wallet_fk" TEXT NOT NULL DEFAULT '0' REFERENCES wallets (wallet_pk), "ignore" INTEGER NOT NULL DEFAULT 0 CHECK ("ignore" IN (0, 1)), PRIMARY KEY ("scanner_template_pk"));
CREATE TABLE IF NOT EXISTS "delete_logs" ("delete_log_pk" TEXT NOT NULL, "entry_pk" TEXT NOT NULL, "type" INTEGER NOT NULL, "date_time_modified" INTEGER NOT NULL DEFAULT 1757158578, PRIMARY KEY ("delete_log_pk"));
